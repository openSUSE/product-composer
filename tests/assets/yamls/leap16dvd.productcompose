product_compose_schema: 0.2

vendor: openSUSE
name: Leap
version: 16.0
product-type: base
summary: Leap

build_options:
### For maintenance, otherwise only "the best" version of each package is picked:
# - take_all_available_versions
- hide_flavor_in_product_directory_name
- ignore_missing_packages
- skip_updateinfos

scc:
  description: >
    Leap ftp tree, also known as POOL.
    Used for GA and maintenance update afterwards.

# enable iso file generation
iso:
  publisher: openSUSE

installcheck:
- ignore_errors

source: split
debug: split

# has only an effect during maintenance:
set_updateinfo_from: maint-coord@suse.de

# will be extended with architecture and flavor string
flavors:
  leap_dvd5_aarch64:
    architectures: [ aarch64 ]
    product_directory_name: Leap-16.0-offline-installer
    name: openSUSE
    summary: openSUSE Leap offline installer
    iso:
      volume_id: Install-Leap-aarch64
      base: agama-installer-Leap
      tree: drop
    source: drop
    debug: drop
  leap_dvd5_ppc64le:
    architectures: [ ppc64le ]
    product_directory_name: Leap-16.0-offline-installer
    name: openSUSE
    summary: openSUSE Leap offline installer
    iso:
      volume_id: Install-Leap-ppc64le
      base: agama-installer-Leap
      tree: drop
    source: drop
    debug: drop
  leap_dvd5_s390x:
    architectures: [ s390x ]
    product_directory_name: Leap-16.0-offline-installer
    name: openSUSE
    summary: openSUSE Leap offline installer
    iso:
      volume_id: Install-Leap-s390x
      base: agama-installer-Leap
      tree: drop
    source: drop
    debug: drop
  leap_dvd5_x86_64:
    architectures: [ x86_64 ]
    product_directory_name: Leap-16.0-offline-installer
    name: openSUSE
    summary: openSUSE Leap offline installer
    iso:
      volume_id: Install-Leap-x86_64
      base: agama-installer-Leap
      tree: drop
    source: drop
    debug: drop

unpack:
  - unpackset

packagesets:
- name: unpackset
  packages:
  - skelcd-openSUSE

# The following is generated by openSUSE-release-tools
#  ### AUTOMATICALLY GENERATED, DO NOT EDIT ### 
- name: leap_dvd5
  flavors:
  - leap_dvd5
  - leap_dvd5_x86_64
  - leap_dvd5_aarch64
  - leap_dvd5_ppc64le
  - leap_dvd5_s390x
  packages:
   - at # reason: base:patterns-base-console
   - attr # reason: base:patterns-base-console
   - bash # reason: leap_dvd5:Leap-release
   - bzip2 # reason: base:patterns-base-console
   - zypper # reason: leap_dvd5:Leap-release

- name: leap_dvd5_x86_64
  flavors:
  - leap_dvd5
  - leap_dvd5_x86_64
  architectures:
  - x86_64
  packages:
   - 389-ds # reason: extra:patterns-server-directory_server
   - 7zip # reason: kde:patterns-kde-kde
   - apache2 # reason: extra:patterns-server-lamp_server

- name: leap_dvd5_aarch64
  flavors:
  - leap_dvd5
  - leap_dvd5_aarch64
  architectures:
  - aarch64
  packages:
   - bash <= 5.2.37-20.1
   - 389-ds # reason: extra:patterns-server-directory_server
   - 7zip # reason: kde:patterns-kde-kde

- name: leap_dvd5_ppc64le
  flavors:
  - leap_dvd5
  - leap_dvd5_ppc64le
  architectures:
  - ppc64le
  packages:
   - 389-ds # reason: extra:patterns-server-directory_server
   - Mesa-gallium # reason: leap_dvd5:Leap-release
   - Mesa-libva # reason: leap_dvd5:Leap-release
  
- name: leap_dvd5_s390x
  flavors:
  - leap_dvd5
  - leap_dvd5_s390x
  architectures:
  - s390x
  packages:
   - blktrace # reason: base:grub2
   - grub2-s390x-emu # reason: base:grub2
   - libekmfweb1 # reason: base:grub2
   - libicu77-bedata # reason: base:patterns-base-console
   - libkmipclient1 # reason: base:grub2
   - libxcb-dri2-0 # reason: leap_dvd5:Leap-release
   - s390-tools # reason: base:grub2
   - s390-tools-genprotimg-data # reason: base:grub2
   - tar # reason: base:grub2
   - tar-lang # reason: base:grub2
   - tar-rmt # reason: base:grub2

- name: main
  add:
  - leap_dvd5
  - leap_dvd5_x86_64
  - leap_dvd5_aarch64
  - leap_dvd5_ppc64le
  - leap_dvd5_s390x
